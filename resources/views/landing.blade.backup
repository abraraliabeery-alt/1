

@extends('layouts.app')

@section('content')

<style>
  :root{
    --brand:#0ea5e9; /* cyan-500 */
    --brand-600:#0284c7; /* cyan-600 */
    --ink:#0f172a; /* slate-900 */
    --muted:#64748b; /* slate-500 */
    --card:#ffffff;
    --beige:#f8fafc; /* slate-50 */
    --ring: rgba(14,165,233,.18);
    --shadow:0 20px 60px rgba(2,132,199,.18);
  }
  /* Hero */
  .hero{ position:relative; min-height:80vh; display:grid; place-items:center; padding: clamp(24px,4vw,48px) 0; overflow:hidden; background:
    radial-gradient(1100px 600px at 110% -10%, rgba(14,165,233,.12), transparent 60%),
    linear-gradient(180deg, #f0f9ff 0%, #ffffff 38%);
  }
  .hero::before{ content:""; position:absolute; inset:auto -20% -30% -20%; height:70%; background: radial-gradient(closest-side, rgba(2,132,199,.12), transparent); filter: blur(30px) }
  .hero h1{ font-weight:900; font-size: clamp(28px, 5vw, 48px); line-height:1.15; color:var(--ink); text-align:center }
  .hero p{ color:var(--muted); font-weight:600; font-size: clamp(14px, 2.2vw, 18px); text-align:center; margin:.6rem auto 1rem; max-width:68ch }
  .hero .btn-main{ background:var(--brand); color:#fff; border:0; padding:.8rem 1.2rem; border-radius:12px; font-weight:900; box-shadow: var(--shadow) }
  .hero .btn-main:hover{ background:var(--brand-600) }
  .hero .quick{ display:flex; gap:.8rem; flex-wrap:wrap; justify-content:center; margin-top:1rem }
  .hero .quick .chip{ background:#fff; border:1px solid rgba(2,132,199,.16); border-radius:999px; padding:.4rem .8rem; font-weight:800; color:var(--brand-600) }

  /* About */
  .about-band{ background:linear-gradient(135deg, #ffffff, #f8fcff); border:1px solid rgba(2,132,199,.10); border-radius:20px; box-shadow:0 18px 50px rgba(15,23,42,.06) }
  .about-badge{ display:inline-block; background:rgba(2,132,199,.10); color:var(--brand-600); font-weight:900; padding:.35rem .6rem; border-radius:999px; letter-spacing:.3px }
  .check-list{ list-style:none; padding:0; margin: .6rem 0 0; display:grid; gap:.35rem }
  .check-list li{ display:flex; align-items:center; gap:.4rem; font-weight:700; color:var(--ink) }
  .check-list i{ color: var(--brand) }
  .about-photo{ border-radius:18px; overflow:hidden; box-shadow:0 24px 60px rgba(15,23,42,.12) }

  /* Property chips and cards */
  #properties .btn-ink{ background:var(--ink); color:#fff; border:0 }
  #properties .btn-outline-ink{ background:#fff; border:1px solid rgba(15,23,42,.15); color:var(--ink) }
  .re-grid{ display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:18px }
  @media (max-width:992px){ .re-grid{ grid-template-columns: repeat(2, minmax(0,1fr)) } }
  @media (max-width:640px){ .re-grid{ grid-template-columns: 1fr } }
  .re-card{ position:relative; display:block; border-radius:16px; overflow:hidden; background:#fff; border:1px solid rgba(15,23,42,.08); box-shadow:0 12px 30px rgba(15,23,42,.06); transition: transform .15s ease, box-shadow .2s ease }
  .re-card:hover{ transform: translateY(-4px); box-shadow:0 18px 50px rgba(15,23,42,.10) }
  .re-thumb{ aspect-ratio: 4/3; overflow:hidden; background:#f1f5f9 }
  .re-thumb img{ width:100%; height:100%; object-fit:cover; display:block; transition: transform .35s ease }
  .re-card:hover .re-thumb img{ transform: scale(1.06) }
  .re-badge{ position:absolute; inset:12px auto auto 12px; background: #fff; color:var(--brand-600); border:1px solid rgba(2,132,199,.22); border-radius:999px; padding:.25rem .6rem; font-weight:900; font-size:.82rem }
  .re-body{ padding:10px 12px }
  .re-title{ margin:0; font-weight:900; color:var(--ink); font-size:1rem }
  .re-meta{ display:flex; gap:.5rem; flex-wrap:wrap; color:var(--muted); font-size:.9rem }
  .re-price{ font-weight:900; color:var(--ink) }
  .re-tags{ display:flex; gap:.35rem; flex-wrap:wrap; margin-top:.35rem }
  .re-tag{ background: #f1f5f9; color:#0f172a; border-radius:999px; padding:.15rem .5rem; font-weight:800; font-size:.78rem }

  /* Services */
  .feature-box{ background:#fff; border:1px solid rgba(15,23,42,.08); border-radius:16px; padding:18px; height:100%; box-shadow:0 14px 40px rgba(15,23,42,.06) }
  .feature-box i{ color:#0f172a; background: linear-gradient(135deg, rgba(14,165,233,.20), rgba(14,165,233,.05)); border:1px solid rgba(14,165,233,.28); width:48px; height:48px; border-radius:12px; display:grid; place-items:center; margin-inline:auto }

  /* Stats */
  .stats{ background: linear-gradient(180deg, #f8fafc, #ffffff); padding:48px 0; border-block:1px solid rgba(15,23,42,.06) }
  .stats h3{ font-weight:900; color:var(--ink); margin:0 }
  .stats p{ color:var(--muted); margin:0 }

  /* Testimonials */
  .testimonial{ background:#fff; border:1px solid rgba(15,23,42,.08); border-radius:16px; padding:18px; box-shadow:0 14px 40px rgba(15,23,42,.06) }
  .testimonial i{ color:var(--brand); font-size:22px }

  /* Contact */
  .contact{ background: linear-gradient(180deg, #ffffff, #f8fafc); padding:56px 0; border-top:1px solid rgba(15,23,42,.06) }
  .contact .form-control{ border-radius:12px; border:1px solid rgba(15,23,42,.12); padding:.8rem .9rem }
  .btn-ink{ background:var(--ink); color:#fff; border:0; font-weight:900; border-radius:12px; padding:.7rem 1rem }
  .btn-outline-ink{ background:transparent; color:var(--ink); border:1px solid rgba(15,23,42,.22); border-radius:12px; padding:.7rem 1rem }
  .btn-beige{ background:#fff7ed; color:#7c2d12; border:1px solid #fed7aa; border-radius:12px; padding:.7rem 1rem; font-weight:900 }

  /* Location */
  #location .ratio{ box-shadow:0 20px 60px rgba(2,132,199,.10); border-radius:18px }
</style>

<!-- Hero -->
<section class="hero" id="hero">
  <h1>ابحث عن منزلك الفاخر بسهولة</h1>
  <p>استكشف آلاف العقارات الحصرية عبر بوابة العقار الأولى في المملكة</p>
  <a href="{{ route('properties.index') }}" class="btn btn-main mt-3">ابدأ الآن</a>
  <div class="quick" aria-label="تصنيفات سريعة">
    <a class="chip" href="{{ route('properties.index', ['type'=>'villa']) }}">فلل</a>
    <a class="chip" href="{{ route('properties.index', ['type'=>'apartment']) }}">شقق</a>
    <a class="chip" href="{{ route('properties.index', ['type'=>'office']) }}">مكاتب</a>
    <a class="chip" href="{{ route('properties.index', ['featured'=>1]) }}">مميزة</a>
  </div>
</section>

<!-- About -->
<section class="container py-5">
  <div class="about-band p-4 p-md-5">
    <div class="row g-4 align-items-center">
      <div class="col-md-6">
        <span class="about-badge">من نحن</span>
        <h2 class="mt-3 fw-bolder" style="color:var(--ink)">بوابة الإبداع العقارية</h2>
        <p class="text-muted lh-lg m-0">منصة عربية متخصصة لإدارة وبيع وتأجير العقارات بمعايير احترافية وهوية أنيقة. نركز على تجربة مستخدم بسيطة، وتصفح سريع، وأدوات بحث ذكية للوصول إلى النتائج بدقة.</p>
        <ul class="check-list mt-3">
          <li><i class='bx bxs-check-circle'></i> عروض حصرية محدثة يوميًا</li>
          <li><i class='bx bxs-check-circle'></i> فلترة متقدمة ونتائج دقيقة</li>
          <li><i class='bx bxs-check-circle'></i> دعم كامل للغة العربية و RTL</li>
        </ul>
        <div class="d-flex gap-2 gap-md-3 mt-3">
          <a class="btn btn-ink px-4" href="{{ route('properties.index') }}">استكشف العقارات</a>
          <a class="btn btn-beige px-4" href="#contact">تواصل معنا</a>
        </div>
        <div class="d-flex flex-wrap gap-4 mt-4 text-center">
          <div>
            <div class="fw-bolder" style="color:var(--ink)">+1000</div>
            <div class="text-muted">عقار متاح</div>
          </div>
          <div>
            <div class="fw-bolder" style="color:var(--ink)">+600</div>
            <div class="text-muted">عميل راضٍ</div>
          </div>
          <div>
            <div class="fw-bolder" style="color:var(--ink)">+70</div>
            <div class="text-muted">مدينة</div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="about-photo ratio ratio-4x3">
          <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=1200&q=80&auto=format&fit=crop" class="w-100 h-100 object-fit-cover" alt="about" loading="lazy">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Properties -->
<section id="properties" class="container py-5">
  <div class="d-flex flex-column flex-md-row align-items-end justify-content-between gap-2 mb-3">
    <div>
      <h2 class="m-0 fw-bolder">عقارات فاخرة مميزة</h2>
      <div class="text-muted">مختارات بعناية لمستوى معيشي راقٍ</div>
    </div>
    <div class="d-flex flex-wrap gap-2">
      <a href="{{ route('properties.index',[ 'type' => 'villa']) }}" class="btn btn-outline-ink btn-sm rounded-pill">فلل</a>
      <a href="{{ route('properties.index',[ 'type' => 'apartment']) }}" class="btn btn-outline-ink btn-sm rounded-pill">شقق</a>
      <a href="{{ route('properties.index',[ 'type' => 'office']) }}" class="btn btn-outline-ink btn-sm rounded-pill">مكاتب</a>
      <a href="{{ route('properties.index') }}" class="btn btn-ink btn-sm rounded-pill">عرض الكل</a>
    </div>
  </div>

  <div class="re-grid">
    @forelse($properties as $p)
      <a href="{{ route('properties.show', $p->slug) }}" class="re-card" dir="rtl">
        <div class="re-thumb">
          @php($img = $p->cover_image ? asset('storage/'.$p->cover_image) : 'https://images.unsplash.com/photo-1505692794403-34d4982dc1f9?w=1200&q=80&auto=format&fit=crop')
          <img src="{{ $img }}" alt="{{ $p->title }}" loading="lazy">
        </div>
        @if($p->is_featured)
          <span class="re-badge">مميز</span>
        @endif
        <div class="re-body">
          <h3 class="re-title">{{ $p->title }}</h3>
          <div class="re-meta">
            <span>{{ $p->city }}@if($p->district) • {{ $p->district }} @endif</span>
          </div>
          <div class="re-price mt-1">{{ number_format($p->price) }} ر.س</div>
          <div class="re-tags">
            @if($p->type)<span class="re-tag">{{ $p->type }}</span>@endif
            @if($p->area)<span class="re-tag">{{ $p->area }} م²</span>@endif
            @if($p->bedrooms)<span class="re-tag">غرف {{ $p->bedrooms }}</span>@endif
            @if($p->bathrooms)<span class="re-tag">حمامات {{ $p->bathrooms }}</span>@endif
            @if($p->video_url || $p->video_path)<span class="re-tag">فيديو</span>@endif
          </div>
        </div>
      </a>
    @empty
      <div class="col-12">
        <div class="alert alert-info">لا توجد عقارات مميزة حالياً.</div>
      </div>
    @endforelse
  </div>

  <div class="text-center mt-4">
    <a href="{{ route('properties.index') }}" class="btn btn-ink btn-lg px-4">استعرض جميع العقارات</a>
  </div>
</section>

<!-- Services -->
<section id="services" class="container py-5">
  <h2 class="section-title">خدماتنا العقارية</h2>
  <div class="row g-4 text-center">
    <div class="col-md-4"><div class="feature-box"><i class='bx bxs-building-house fs-1 mb-3'></i><h5>بيع وشراء العقارات</h5><p>نساعدك في الحصول على أفضل العروض وفق احتياجاتك.</p></div></div>
    <div class="col-md-4"><div class="feature-box"><i class='bx bx-cog fs-1 mb-3'></i><h5>إدارة الأملاك</h5><p>حلول متكاملة لإدارة عقاراتك بأعلى كفاءة واحترافية.</p></div></div>
    <div class="col-md-4"><div class="feature-box"><i class='bx bx-analyse fs-1 mb-3'></i><h5>الاستشارات العقارية</h5><p>نقدم خبراتنا لمساعدتك في اتخاذ قراراتك الاستثمارية بثقة.</p></div></div>
  </div>
</section>

<!-- Statistics -->
<section class="stats text-center">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-3"><h3>+1000</h3><p>عقار متاح</p></div>
      <div class="col-md-3"><h3>+600</h3><p>عميل راضٍ</p></div>
      <div class="col-md-3"><h3>+70</h3><p>مدينة مغطاة</p></div>
      <div class="col-md-3"><h3>+12</h3><p>سنوات خبرة</p></div>
    </div>
  </div>
</section>

<!-- Testimonials -->
<section class="container py-5">
  <h2 class="section-title">آراء عملائنا</h2>
  <div class="row g-4">
    <div class="col-md-6"><div class="testimonial"><i class='bx bxs-quote-alt-right'></i><p class="mt-3">بوابة العقار خدمتني بسرعة واحترافية عالية. وجدت فيلا أحلامي خلال يومين فقط!</p><h6 class="mt-2">– فهد العتيبي</h6></div></div>
    <div class="col-md-6"><div class="testimonial"><i class='bx bxs-quote-alt-right'></i><p class="mt-3">أفضل موقع عقاري جربته. فريق الدعم متعاون جدًا.</p><h6 class="mt-2">– سارة المطيري</h6></div></div>
  </div>
</section>

<!-- Contact -->
<section id="contact" class="contact">
  <div class="container">
    <h2 class="section-title">تواصل معنا</h2>
    @if(session('ok'))
      <div class="card" style="border-color:#bbf7d0; background:#f0fdf4">{{ session('ok') }}</div>
    @endif
    @if ($errors->any())
      <div class="card" style="border-color:#fecaca; background:#fff7f7">
        <strong>تحقق من الحقول التالية:</strong>
        <ul class="clean">
          @foreach ($errors->all() as $e)
            <li>{{ $e }}</li>
          @endforeach
        </ul>
      </div>
    @endif
    <form method="post" action="{{ route('contact.home.store') }}" class="row g-3 justify-content-center">
      @csrf
      <div class="col-md-5"><input name="name" type="text" class="form-control p-3" placeholder="الاسم الكامل"></div>
      <div class="col-md-5"><input name="email" type="email" class="form-control p-3" placeholder="البريد الإلكتروني"></div>
      <div class="col-md-10"><input name="phone" type="text" class="form-control p-3" placeholder="رقم الجوال (اختياري)"></div>
      <div class="col-md-10"><textarea name="message" class="form-control p-3" rows="5" placeholder="اكتب رسالتك هنا..." required>{{ old('message') }}</textarea></div>
      <div class="col-md-10 text-center"><button class="btn btn-main px-5 py-2" type="submit">إرسال الرسالة</button></div>
    </form>
  </div>
</section>

<!-- Location -->
<section id="location" class="container py-5">
  <div class="d-flex flex-column flex-md-row align-items-start gap-4">
    <div class="flex-grow-1 order-2 order-md-1">
      <div class="ratio ratio-21x9 rounded overflow-hidden" style="box-shadow: var(--card-shadow)">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3623.038493941916!2d46.675296!3d24.713551!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3e2f02f4f8f2c9e7%3A0x9d1d8dbef0e2c0a9!2sRiyadh!5e0!3m2!1sar!2ssa!4v0000000000000"
          style="border:0;" allowfullscreen loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
    <div class="order-1 order-md-2" style="min-width: 280px">
      <h2 class="fw-bolder m-0" style="color:var(--ink)">موقعنا</h2>
      <div class="text-muted mb-3">نرحّب بزيارتكم في مكاتبنا</div>
      <div class="p-3 rounded" style="background: var(--beige); color: var(--ink)">
        <div class="d-flex align-items-start gap-2">
          <i class='bx bx-map-pin fs-4'></i>
          <div>
            <div class="fw-bolder">الرياض، المملكة العربية السعودية</div>
            <div class="small">الحي المالي، شارع العليا</div>
          </div>
        </div>
        <div class="d-flex align-items-start gap-2 mt-2">
          <i class='bx bx-phone fs-4'></i>
          <div>
            <div class="fw-bolder">+966 55 123 4567</div>
            <div class="small">الأحد - الخميس 9ص - 6م</div>
          </div>
        </div>
        <div class="d-flex align-items-start gap-2 mt-2">
          <i class='bx bx-envelope fs-4'></i>
          <div>
            <div class="fw-bolder">info@example.com</div>
            <div class="small">للإستفسارات والدعم</div>
          </div>
        </div>
        <div class="mt-3 d-flex gap-2">
          <a href="#contact" class="btn btn-ink">راسلنا الآن</a>
          <a href="https://goo.gl/maps/" target="_blank" class="btn btn-outline-ink">فتح الخريطة</a>
        </div>
      </div>
    </div>
  </div>
  
</section>

@endsection
